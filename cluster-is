apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  labels:
    app.kubernetes.io/instance: istio-networking
  name: letsencrypt
spec:
  acme:
    email: robert.miklas@protonmail.com
    privateKeySecretRef:
      name: letsencrypt
    server: https://acme-staging-v02.api.letsencrypt.org/directory
    solvers:
      - dns01:
          azureDNS:
            environment: AzurePublicCloud
            hostedZoneName: rmikl.pl
            managedIdentity:
              clientID: 944488c0-97e5-466b-be90-6a7b9b3af0cb
            resourceGroupName: localRmiklAdo
            subscriptionID: ba4170f9-7f45-490d-babb-5e03d29df1b2
